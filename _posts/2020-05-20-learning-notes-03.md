---
layout:     post
title:      Oracle数据库学习笔记（三）
subtitle:   安装PLSQL连接数据库
date:       2020-05-20
author:     java阳旭
header-img: img/post-bg-road.jpg
catalog:    true
tags:
    - Oracle
---


# 前期准备

1. PLSQL Developer12(64bit)
2. instantclient-basic-windows.x64-12.2.0.1.0

# 安装PLSQL

安装过程十分简单，无脑下一步即可。

![01](/img-post/2020-05-20-learning-notes-03/01.jpg)

![02](/img-post/2020-05-20-learning-notes-03/02.jpg)

不要安装到有括号的目录下，否则会出现连不上数据库的情况，安装目录也不要有中文和空格。

![03](/img-post/2020-05-20-learning-notes-03/03.jpg)

![04](/img-post/2020-05-20-learning-notes-03/04.jpg)

![05](/img-post/2020-05-20-learning-notes-03/05.jpg)

![06](/img-post/2020-05-20-learning-notes-03/06.jpg)

![07](/img-post/2020-05-20-learning-notes-03/07.jpg)

# 配置 PLSQL

1、在弹出的登录窗口中，点 Cancel 。

![](/img-post/2020-05-20-learning-notes-03/08.jpg)

2、 Configure -> Preferences

![](/img-post/2020-05-20-learning-notes-03/09.jpg)

3、把客户端工具 instantclient 解压到一个没有中文和空格的目录中，然后按照下图配置 Oracle Home 为instantclient 的目录。OCI library 也按下图进行配置。

![](/img-post/2020-05-20-learning-notes-03/10.jpg)

4、在 instantclient 目录下建立一个名为 conf 的目录，在 conf 目录下新建一个 tnsnames.ora 文件。tnsnames.ora 文件中的代码如下：

```
# tnsnames.ora Network Configuration File: C:\oracle\product\10.2.0\db_1\network\admin\tnsnames.ora
# Generated by Oracle configuration tools.

ORCL =
  (DESCRIPTION =
    (ADDRESS = (PROTOCOL = TCP)(HOST = 数据库的IP地址)(PORT = 1521))
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = orcl)
    )
  )

EXTPROC_CONNECTION_DATA =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1))
    )
    (CONNECT_DATA =
      (SID = PLSExtProc)
      (PRESENTATION = RO)
    )
  )
```

![](/img-post/2020-05-20-learning-notes-03/11.jpg)

5、获取到数据库所在的服务端的 IP 地址。

![](/img-post/2020-05-20-learning-notes-03/12(1).jpg)

6、将 IP 地址填写到 tnsnames.ora 文件中相应的位置中，如下图所示。

![](/img-post/2020-05-20-learning-notes-03/12.jpg)

7、配置环境变量。新建一个系统变量，变量名为 TNS_ADMIN ，变量值为 tnsnames.ora 文件所在的目录。

![](/img-post/2020-05-20-learning-notes-03/13.jpg)

8、新建一个系统变量，变量名为 NLS_LANG ，变量值为 AMERICAN_AMERICA.AL32UTF8 。

![](/img-post/2020-05-20-learning-notes-03/14.jpg)

9、编辑 Path 系统变量。

![](/img-post/2020-05-20-learning-notes-03/15.jpg)

10、将 tnsnames.ora 文件所在的目录添加到 Path 系统变量中。

![](/img-post/2020-05-20-learning-notes-03/16.jpg)

11、再次打开 PLSQL ，登录框中即可顺利出现 Connect as ，Database 中可以正常选择 ORCL 项。

![](/img-post/2020-05-20-learning-notes-03/17.jpg)

12、成功连接数据库。

![](/img-post/2020-05-20-learning-notes-03/18.jpg)

# 其他问题

如果按照以上方法配置依旧会出现 Connect as 缺失，无法连接数据库的情况，请尝试到官网下载最新的版本，一般就不会有各种奇怪的问题了。新版本的 PLSQL 只能试用 30 天，但是作为学习用途 1 个月的时间足够了。

- PLSQL（https://www.allroundautomations.com/try-it-free/）
- instant-client（https://www.oracle.com/database/technologies/instant-client/winx64-64-downloads.html）

如果依旧无法正常使用，可以考虑换一个工具，比如 Oracle 提供的 SQL Developer 工具（https://www.oracle.com/tools/downloads/sqldev-v192-downloads.html）。按照下图所示的步骤设置即可。

![19](/img-post/2020-05-20-learning-notes-03/19.jpg)

点击 否 。

![20](/img-post/2020-05-20-learning-notes-03/20.jpg)

![21](/img-post/2020-05-20-learning-notes-03/21.jpg)

![22](/img-post/2020-05-20-learning-notes-03/22.jpg)

![23](/img-post/2020-05-20-learning-notes-03/23.jpg)